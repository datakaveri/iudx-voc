* IUDX Migrating to better linked data


* Getting started
** Basic items
*** Following schema.org [[https://schema.org/][json-ld form]]



*** Do we use schema.org standard terminologies such as [[https://schema.org/Thing.jsonld]["Thing"]] instead of ResourceItem?
**** JSON
#+BEGIN_SRC json
{
    "@context": {
        "schema": "http://schema.org/"
    },
    "@graph": [
        {
            "@id": "schema:dataFeedElement",
            "schema:rangeIncludes": {
                "@id": "schema:Thing"
            }
        },
        {
            "@id": "schema:name",
            "schema:domainIncludes": {
                "@id": "schema:Thing"
            }
        }
    ]
}
#+END_SRC 
**** LD Expansion
[[./graph.png]]


** Basic Types
*** schema:measuredValue is essentially iudx:QuantitativeProperty
*** Datatypes in schema.org use schema:DataType
*** What this means
**** JSON
#+BEGIN_SRC json
{
    "@context": {
        "schema": "http://schema.org/"
    },
    "@graph": [
        {
            "@id": "schema:measuredValue",
            "schema:rangeIncludes": {
                "@id": "schema:DataType"
            }
        },
        {
            "@id": "schema:DataType",
            "@type": "rdf:Class",
            "rdf:comment": "The basic data types such as Integers, Strings, etc.",
            "rdf:label": "DataType",
            "rdf:subClassOf": {
                "@id": "rdf:Class"
            }
        },
        {
            "@id": "schema:Number",
            "@type": "schema:DataType"
        }

    ]
}
#+END_SRC
[[./datatype.png]]

*** schema.org is flexible is a little ambiguous
**** measuredValue doesn't have rdf:subclass or type
**** DataType is of @type and subclass off rdf:class... why?.. why not rdfs:resource
**** Does @type imply rdf:range?

*** According to this, time is a measured value and therefore, iudx:TimeProperty will be invalidated.
[[./time.png]]

** A higher level to measuredValue
*** Observation - This is what QuantitativeProperty should be. This is in the pending list along with measuredValue
#+BEGIN_SRC json
[
    {
        "@id": "schema:Observation",
        "@type": "rdf:Class",
        "dcterms:source": {
            "@id": "https://github.com/schemaorg/schemaorg/issues/2291"
        },
        "rdf:comment": "Instances of the class <a class=\"localLink\" href=\"http://schema.org/Observation\">Observation</a> are used to specify observations about an entity (which may or may not be an instance of a <a class=\"localLink\" href=\"http://schema.org/StatisticalPopulation\">StatisticalPopulation</a>), at a particular time. The principal properties of an <a class=\"localLink\" href=\"http://schema.org/Observation\">Observation</a> are <a class=\"localLink\" href=\"http://schema.org/observedNode\">observedNode</a>, <a class=\"localLink\" href=\"http://schema.org/measuredProperty\">measuredProperty</a>, <a class=\"localLink\" href=\"http://schema.org/measuredValue\">measuredValue</a> (or <a class=\"localLink\" href=\"http://schema.org/median\">median</a>, etc.) and <a class=\"localLink\" href=\"http://schema.org/observationDate\">observationDate</a> (<a class=\"localLink\" href=\"http://schema.org/measuredProperty\">measuredProperty</a> properties can, but need not always, be W3C RDF Data Cube \"measure properties\", as in the <a href=\"https://www.w3.org/TR/vocab-data-cube/#dsd-example\">lifeExpectancy example</a>).\nSee also <a class=\"localLink\" href=\"http://schema.org/StatisticalPopulation\">StatisticalPopulation</a>, and the <a href=\"/docs/data-and-datasets.html\">data and datasets</a> overview for more details.",
        "rdf:label": "Observation",
        "rdf:subClassOf": {
            "@id": "schema:Intangible"
        },
        "schema:category": "issue-2291",
        "schema:isPartOf": {
            "@id": "http://pending.schema.org"
        }
    }
]
#+END_SRC
[[./obs.png]]




* List of IUDX properties and their mappings

NOTE: schema.org doesn't have rdf:Resource

** schema.org meta includes - Class, Property, domainIncludes, supersededBy (rangeIncludes??)
We need to have our meta (Class, Property) same as schema.orgs'
Basics
    | IUDX | Schema.org                 | rdf/s    | Comments                          |
    |------+----------------------------+----------+-----------------------------------|
    | -    | Class                      | Class    | no such definition in iudx        |
    | -    | Property                   | Class    | no such definition in iudx        |
    |      |                            |          | (domain, range) -includes-> Class |
    |------+----------------------------+----------+-----------------------------------|
    | -    | domainIncludes             | Property | no such definition in iudx        |
    | -    | rangeIncludes(Not Present) | Property |                                   |
    |------+----------------------------+----------+-----------------------------------|
    |      |                            |          |                                   |




IUDX:CoreTypes

| IUDX                 | Schema.org               | @type                    | subClass               | Comments                                                   |
|----------------------+--------------------------+--------------------------+------------------------+------------------------------------------------------------|
| Property             | schema:Property          | rdfs:Class               |                        | Generic property describing a thing. Includes relationship |
|                      |                          |                          |                        | in schema.org. Shouldn't get confused with rdf:Property,   |
|                      |                          |                          | schema:StructuredValue | maybe change name??                                        |
|----------------------+--------------------------+--------------------------+------------------------+------------------------------------------------------------|
| QuantitativeProperty | schema:QuantitativeValue | rdfs:Class               |                        |                                                            |
|                      |                          | or                       | schema:StructuredValue |                                                            |
|                      |                          | schema:QunatitativeValue |                        |                                                            |
|----------------------+--------------------------+--------------------------+------------------------+------------------------------------------------------------|
| GeoProperty          | schema:GeoCoordinates    | rdfs:Class               | schema:StructuredValue |                                                            |
|                      |                          | or                       |                        |                                                            |
|                      |                          | schema:GeoCoordinates    |                        |                                                            |
|----------------------+--------------------------+--------------------------+------------------------+------------------------------------------------------------|
| TimeProperty         | schema:Time              | rdfs:Class               | schema:StructuredValue |                                                            |
|                      |                          | or                       |                        |                                                            |
|                      |                          | schema:Time              |                        |                                                            |

** We need to differentiate between Observation and QuantitativeValue. All Observations are Quantitative and the reverse is not true
** schema:StructuredValue seems to be subclass of most of the properties we are intereseted in

** Example of a few derived attributes
    | IUDX Property | @type         | domainIncludes            | rangeIncludes        | Comments                                           |
    |---------------+---------------+---------------------------+----------------------+----------------------------------------------------|
    | name          | rdfs:Property | iudx:Property             | schema:Text          |                                                    |
    |               |               | and                       | or                   |                                                    |
    |               |               | iudx:ResourceItem         | iudx:Text            |                                                    |
    |               |               |                           | or                   |                                                    |
    |               |               |                           | json:String          |                                                    |
    |---------------+---------------+---------------------------+----------------------+----------------------------------------------------|
    | lastUpdatedAt | rdfs:Property | iudx:TimeProperty         | schema:DateTime      |                                                    |
    |               |               | and                       |                      |                                                    |
    |               |               | iudx:DataPacket??         | or                   |                                                    |
    |               |               |                           | iudx:DateTime        |                                                    |
    |               |               |                           | or                   |                                                    |
    |               |               |                           | json:DateTime        |                                                    |
    |---------------+---------------+---------------------------+----------------------+----------------------------------------------------|
    | temperature   | rdfs:Property | iudx:QuantitativeProperty | schema:measuredValue | Here, we'll need two levels of abstraction         |
    |               |               |                           | or                   | and talk about measuredValue too. This is because  |
    |               |               |                           | schema:number        | a QuantitativeProperty need not be a measuredValue |
    |               |               |                           | or                   |                                                    |
    |               |               |                           | iudx:measuredValue   |                                                    |
